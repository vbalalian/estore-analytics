version: 2

models:
  - name: metrics_rfm_segments
    description: "RFM Segments for Customer Segmentation"
    config:
      contract:
        enforced: false
    columns:
      - name: rfm_segment
        description: "RFM Segment Name"
        data_type: string
        constraints:
          - type: not_null
        tests:
          - not_null
          - unique
      - name: customer_count
        description: "Number of Customers in the RFM Segment"
        data_type: integer
        constraints:
          - type: not_null
        tests:
          - not_null
      - name: avg_rfm_total
        description: "Average RFM Total Value for the Segment"
        data_type: float
        constraints:
          - type: not_null
        tests:
          - not_null
      - name: avg_revenue
        description: "Average Revenue for Customers in the Segment"
        data_type: float
        constraints:
          - type: not_null
        tests:
          - not_null
      - name: med_rfm_total
        description: "Median RFM Total Value for the Segment"
        data_type: integer
        constraints:
          - type: not_null
        tests:
          - not_null
      - name: med_revenue
        description: "Median Revenue for Customers in the Segment"
        data_type: float
        constraints:
          - type: not_null
        tests:
          - not_null
      - name: category_type
        description: "General action type for the RFM Segment"
        data_type: string
        constraints:
          - type: not_null
        tests: 
          - not_null
      - name: action_strategy
        description: "Recommended action strategy for the RFM Segment"
        data_type: string
        constraints:
          - type: not_null
        tests:
          - not_null